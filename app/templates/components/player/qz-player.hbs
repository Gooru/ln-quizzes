{{#if showConfirmation}}
  {{player.qz-player-confirmation attempts=attempts collection=collection context=context onStartPlayer='openPlayer' onClosePlayer="closePlayer" onRemixCollection="remixCollection"}}
{{else}}
    <div class="component player">
      {{#unless showReport}}
          <div class="qz-aside">
            {{player.qz-navigator
            isNavigationDisabled=isNavigationDisabled
            isTeacher=isTeacher
            submitted=contextResult.submitted
            collection=collection
            resourceResults=resourcesPlayer
            selectedResourceId=resourceId
            showFeedback=showFeedback
            showFinishConfirmation=showFinishConfirmation
            onItemSelected="selectNavigatorItem"
            onCloseNavigator="closeNavigator"
            onClosePlayer="closePlayer"
            onRemixCollection="remixCollection"
            onFinishCollection="submitAll"
            showBackButton=showBackButton
            }}
          </div>
      {{/unless}}
        <div class="qz-main {{if showFinishConfirmation 'submission-confirm'}}" role="main">
          {{#if collection.hasResources }}
            {{#if showFinishConfirmation}}
              {{player.qz-submit-confirmation onConfirmFinish='finishCollection'}}
            {{else}}
              {{player.qz-navigation
              collection=collection
              ratingScore=resourceResult.reaction
              readOnly=contextResult.submitted
              onFinishCollection="finishCollection"
              onOpenNavigator="openNavigator"
              onChangeEmotion="changeEmotion"}}

              {{#if resource}}
                {{player.qz-viewer
                isNotIframeUrl=isNotIframeUrl
                collection=collection
                resource=resource
                resourceResult=resourceResult
                role=role
                showPrevious=showPrevious
                submitted=contextResult.submitted
                onPreviousResource="previousResource"
                onSubmitQuestion="submitQuestion"}}
              {{/if}}
            {{/if}}
          {{else}}
          {{! TODO add the not found component here}}
          {{/if}}
        </div>
    </div>
{{/if}}
