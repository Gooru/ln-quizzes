<div class="main" role="main">
  {{#if showReport}}
    <div class="report-navigation">
      <button {{action "closePlayer"}} class="btn btn-info back">
          <span>
            {{gru-icon name='keyboard_arrow_left'}}
            {{t 'common.back'}}
          </span>
      </button>
    </div>
    {{reports.qz-assessment-report assessmentResult=assessmentResult }}
  {{else}}
    {{#if collection.hasResources }}
      {{player.qz-navigation
      collection=collection
      submitted=assessmentResult.submitted
      ratingScore=resourceResult.reaction
      onFinishCollection="finishCollection"
      onOpenNavigator="openNavigator"
      onChangeEmotion="changeEmotion"
      notifyingRealTime=notifyingRealTime
      isTeacher=isTeacher
      hasContext=hasContext
      }}

      {{#if resource}}
      {{player.qz-viewer
      submitted=assessmentResult.submitted
      resource=resource
      resourceResult=resourceResult
      collection=collection
      onSubmitQuestion="submitQuestion"
      isNotIframeUrl=isNotIframeUrl
      hasContext=hasContext
      role=role}}
      {{/if}}
    {{else}}
      {{! TODO add the not found component here}}
    {{/if}}
  {{/if}}
</div>
{{#unless showReport}}
  <div class="aside">
    {{player.qz-navigator
    lessonTitle=lessonTitle
    resourceResults=resourcesPlayer
    collection=collection
    originalCollection=originalCollection
    onClosePlayer="closePlayer"
    selectedResourceId=resourceId
    onItemSelected="selectNavigatorItem"
    onCloseNavigator="closeNavigator"
    onFinishCollection="finishCollection"
    hasContext=hasContext
    isTeacher=isTeacher
    onRemixCollection="remixCollection"
    submitted=assessmentResult.submitted
    }}
  </div>
{{/unless}}
