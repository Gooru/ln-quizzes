<div class="panel {{if (is-teacher class profile.id) 'teacher' 'student' }}">
  {{#if class.isArchived}}
      <div class="panel-heading">
          <div class="title">
              <h5>{{class.title}}</h5>
          </div>
      </div>
    {{else}}
    {{#link-to 'class.overview' class.id}}
        <div class="panel-heading">
            <div class="title">
                <h5>{{class.title}}</h5>
            </div>
              <div class="side-info">
                  <span class="code">{{class.code}}</span>
                  <span class="profile-link action">{{if (is-teacher class profile.id) (t "common.teach") (t "common.study") }} {{gru-icon name="keyboard_arrow_right"}} </span>
              </div>
        </div>
    {{/link-to}}
  {{/if}}
  <div class="panel-body">
    <div class="members-info">
      <div class="collaborators">
        {{! Place collaborator avatar and first name in the next two lines }}
        <img class="collaborator-avatar" src="{{class.owner.avatarUrl}}" alt="{{class.owner.displayName}}">
        <span class="name">
          {{truncate text=class.owner.displayName maxLength=18}}
        </span>          
        {{#if (gt collaboratorsCount 0)}} <span class="collaborators-count">+{{collaboratorsCount}}</span>{{/if}}
      </div>
      <div class="students-info">
        <small>{{gru-icon name="group"}} {{t "cards.gru-class-card.student" count=studentCount}}</small>
      </div>
    </div>
    <div class="description">
      {{#if class.isArchived}}
        {{#if class.isReportAvailable}}
            <div> {{t "cards.gru-class-card.archived.download-report" }}</div>
        {{/if}}
        {{#unless class.hasCourse}}
            <div>{{t "cards.gru-class-card.archived.no-report-available" }}</div>
        {{/unless}}
        {{#if class.isReportInProgress}}
            <div>{{t "cards.gru-class-card.archived.report-in-progress" }}</div>
        {{/if}}
        {{#if class.canRequestReport}}
            <div>{{t "cards.gru-class-card.archived.request-report" }}</div>
        {{/if}}
      {{else}}
          <div>{{class.greeting}}</div>
      {{/if}}
      {{#if class.isArchived}}
          <span class="archived-actions">
      {{#if class.isReportAvailable}}
          <button class="btn btn-success download-report" {{action 'downloadReport'}}>{{gru-icon name="get_app"}} {{t "common.download-report"}}</button>
      {{/if}}
            {{#unless class.hasCourse}}
              {{gru-icon name="highlight_off"}}<span class="report-not-available">{{t "common.no-content"}}</span>
            {{/unless}}
            {{#if class.isReportInProgress}}
              {{gru-icon name="schedule"}}<span class="report-in-progress">{{t "common.report-in-progress"}}</span>
            {{/if}}
            {{#if class.canRequestReport}}
                <button class="btn btn-info request-report" {{action 'requestReport'}}>{{gru-icon name="timeline"}} {{t "common.request-report"}}</button>
            {{/if}}
    </span>
      {{/if}}
    </div>
  </div>
</div>
